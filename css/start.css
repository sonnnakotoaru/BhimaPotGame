/*
  start.css
  - 小学生でも分かる説明:
    ・ここはスタート画面（タイトル）の見た目を決めるファイルです。
    ・ボタンの位置や文字の大きさ、フェード時間などをここでまとめています。
*/
 /* ボタン位置を px 単位で指定します（1280x720 基準） */
:root{
  --btn-begin-left: 940px;
  --btn-begin-top: 250px; 
  --btn-exit-left: 940px;  
  --btn-exit-top: 380px;  
  --btn-credit-left: 940px;
  --btn-credit-top: 510px; 
  --transition-duration: 400ms;
  --text-font-family: 'KaisotaiNext', 'Noto Sans JP', sans-serif;
  --text-font-size: 40px;
  --text-fade-in: 0.8s;
  --text-fade-out: 0.8s;
}

/* 画面外（余白）も常に真っ黒にする＋余白やスクロールを抑止 */
html,body{height:100%;margin:0;background:#000;overflow:hidden}
/* notch/safe-area による物理切り欠きでコンテンツが欠けないようパディングを適用 */
body{padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);box-sizing:border-box}

#screen{
  position:fixed;
  left:50%;
  top:50%;
  width:1280px;
  height:720px;
  box-sizing:border-box;
  opacity:0;
  transition:opacity var(--transition-duration) cubic-bezier(0.22,0.8,0.25,1);
  transform-origin:center center;
  transform: translate(-50%,-50%) scale(var(--screen-scale,1));
}
#screen.visible{opacity:1}

.bg{position:absolute;left:0;top:0;width:1280px;height:720px;background-repeat:no-repeat;background-position:center center;background-size:1280px 720px;z-index:0}

.scene-layer{position:absolute;left:0;top:0;width:1280px;height:720px;z-index:1;pointer-events:none}

.scene-layer img{position:absolute;top:0;left:0;width:auto;height:auto;image-rendering:pixelated}

.btn-ui{pointer-events:auto;cursor:pointer}
.btn-ui:active{filter:brightness(1.5)}

#btn-begin{left:var(--btn-begin-left);top:var(--btn-begin-top)}
#btn-exit{left:var(--btn-exit-left);top:var(--btn-exit-top)}
#btn-credit{left:var(--btn-credit-left);top:var(--btn-credit-top)}

/* 生成テキストは削除されました。テキストUIは画像ベースへ置き換えてください。 */

.hidden{ display: none !important; }

/* 小さい画面向けの調整（スケーリング方式）:
   ウィンドウが小さいときは #screen を幅/高さを直接変えるのではなく
   transform: scale() で縮小します。これにより #screen の内部座標系
   (1280x720) が保たれ、ボタンや絶対座標指定の要素がキャンバスに対して
   固定されます（ウィンドウサイズに左右されない）。 */
@media (max-width: 1280px){
  :root{
    --screen-fit-w: calc((100vw - 20px) / 1280);
    --screen-fit-h: calc((100vh - 20px) / 720);
  }
  #screen{
    /* 内部は常に 1280x720 を想定し、表示は scale() で縮小する */
    width: 1280px; height: 720px;
    transform: translate(-50%,-50%) scale(min(var(--screen-fit-w), var(--screen-fit-h)));
    transform-origin: center center;
  }
  /* レイヤーと背景は内部サイズを維持する */
  .bg, .scene-layer{ width:1280px; height:720px; }
  .scene-layer img, .btn-ui{ max-width:none; height:auto; }
  /* テキストコンテナもキャンバス幅で動くようにする */
  /* 生成テキストコンテナは不要になりました */
}
