/*
  prologue-text.css
  - プロローグ専用のテキスト表示ルールをまとめたファイルです。
  - 中学生向け: ここでプロローグの文字の位置・大きさ・色を調整できます。
*/

@import url('text.css');

:root{
  /* Prologue-specific layout overrides */
  --prologue-text-top: 46%;
  --prologue-line-gap: 1.2em;
  --prologue-text-max-width: 1280px;
  --prologue-text-left: 50%;
  --prologue-text-right: 8%;
  --prologue-text-bottom: auto;

  /* Colors specific to prologue (override defaults if needed) */
  --prologue-text-color: var(--text-color-default);
  --prologue-text-outline-color: var(--text-outline-color-default);
  --prologue-text-outline-width: var(--text-outline-width-default);
}

/* Line position helpers (use with generated-text.line-N) */
.generated-text.line-1{ top: calc(var(--prologue-text-top) + 0 * var(--prologue-line-gap)); }
.generated-text.line-2{ top: calc(var(--prologue-text-top) + 1 * var(--prologue-line-gap)); }
.generated-text.line-3{ top: calc(var(--prologue-text-top) + 2 * var(--prologue-line-gap)); }
.generated-text.line-4{ top: calc(var(--prologue-text-top) + 3 * var(--prologue-line-gap)); }
.generated-text.line-5{ top: calc(var(--prologue-text-top) + 4 * var(--prologue-line-gap)); }

/* Prologue-specific style variants */
.prologue-style-1{ --text-color: var(--prologue-text-color); --text-outline-color: var(--prologue-text-outline-color); --text-outline-width: var(--prologue-text-outline-width); }
.prologue-style-2{ --text-color: var(--prologue-text-color); --text-outline-color: var(--prologue-text-outline-color); --text-outline-width: var(--prologue-text-outline-width); }
.prologue-style-3{ --text-color: var(--prologue-text-color); --text-outline-color: var(--prologue-text-outline-color); --text-outline-width: var(--prologue-text-outline-width); }
.prologue-style-4{ --text-color: var(--prologue-text-color); --text-outline-color: var(--prologue-text-outline-color); --text-outline-width: var(--prologue-text-outline-width); }
.prologue-style-5{ --text-color: var(--prologue-text-color); --text-outline-color: var(--prologue-text-outline-color); --text-outline-width: var(--prologue-text-outline-width); }

/* prologue-text.css end */
/*
  prologue-text.css
  - 内部生成テキストの共通ルールとプロローグ固有の位置/スタイルを統合したスタイル
  - .generated-text 系クラスや --prologue-* 変数を提供します
*/

:root{
  --it-font-family: 'KaisotaiNext', 'Noto Sans JP', sans-serif;
  --it-font-path: '../assets/font/Kaisotai-Next-UP-B.ttf';
  --text-font-size: 40px;       /* デフォルトの文字サイズ */
  --text-fade-in: 0.8s;         /* フェードイン時間 */
  --text-fade-out: 0.8s;        /* フェードアウト時間 */
  --text-wait: 0.5s;            /* 自動開始までの待ち時間（JSで参照） */
  --text-color: #FFF1AB;        /* 指定された文字色 */
  --text-outline-color: #221200; /* 指定されたふち色 */
  --text-outline-width: 1px;    /* ふち（アウトライン）の幅（px 単位） */

  /* プロローグ表示位置設定（変更可能） */
  --prologue-text-top: 46%;
  --prologue-line-gap: 1.2em;
  --prologue-text-max-width: 1280px;
  --prologue-text-left: 50%;
  --prologue-text-right: 8%;
  --prologue-text-bottom: auto;
  --prologue-text-align: center;
}

/* 内部生成テキスト用フォント登録 */
@font-face{
  font-family: 'KaisotaiNext';
  src: url('../assets/font/Kaisotai-Next-UP-B.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* 基本スタイル: 生成要素は絶対配置で、横は中央固定 */
.generated-text{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: var(--prologue-text-top);

  box-sizing: border-box;
  font-family: var(--it-font-family);
  font-size: var(--text-font-size);
  line-height: 1.1;
  white-space: pre; /* 折り返しをさせない（必要なら multi-line を使う） */
  color: var(--text-color);

  opacity: 0;
  transition: opacity var(--text-fade-in) ease;
  pointer-events: auto;
  z-index: 50;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

/* 折返し許可 */
.generated-text.multi-line{
  white-space: normal;
  width: var(--prologue-text-max-width);
  text-align: center;
}

/* 行別クラス */
.generated-text.line-1{ top: calc(var(--prologue-text-top) + 0 * var(--prologue-line-gap)); }
.generated-text.line-2{ top: calc(var(--prologue-text-top) + 1 * var(--prologue-line-gap)); }
.generated-text.line-3{ top: calc(var(--prologue-text-top) + 2 * var(--prologue-line-gap)); }
.generated-text.line-4{ top: calc(var(--prologue-text-top) + 3 * var(--prologue-line-gap)); }
.generated-text.line-5{ top: calc(var(--prologue-text-top) + 4 * var(--prologue-line-gap)); }

/* プロローグ固有のスタイルクラス */
.prologue-style-1{ --text-color: #FFF1AB; --text-outline-color: #221200; --text-outline-width: 1px; }
.prologue-style-2{ --text-color: #FFF1AB; --text-outline-color: #221200; --text-outline-width: 1px; }
.prologue-style-3{ --text-color: #FFF1AB; --text-outline-color: #221200; --text-outline-width: 1px; }
.prologue-style-4{ --text-color: #FFF1AB; --text-outline-color: #221200; --text-outline-width: 1px; }
.prologue-style-5{ --text-color: #FFF1AB; --text-outline-color: #221200; --text-outline-width: 1px; }

.generated-text.show{
  opacity: 1;
  transition-duration: var(--text-fade-in);
}

.generated-text.hide{
  opacity: 0;
  transition-duration: var(--text-fade-out);
}

.generated-text.outlined{
  -webkit-text-stroke-width: var(--text-outline-width);
  -webkit-text-stroke-color: var(--text-outline-color);
  text-shadow: -1px -1px 0 var(--text-outline-color), 1px -1px 0 var(--text-outline-color), -1px 1px 0 var(--text-outline-color), 1px 1px 0 var(--text-outline-color);
}

/* 水平揃えユーティリティ */
.generated-text.align-center{
  left: var(--prologue-text-left);
  right: auto;
  transform: translateX(-50%);
  text-align: center;
}
.generated-text.align-left{
  left: var(--prologue-text-left);
  right: auto;
  transform: none;
  text-align: left;
}
.generated-text.align-right{
  left: auto;
  right: var(--prologue-text-right);
  transform: none;
  text-align: right;
}

/* 縦位置ユーティリティ */
.generated-text.pos-top{ top: var(--prologue-text-top); bottom: auto; }
.generated-text.pos-bottom{ bottom: var(--prologue-text-bottom); top: auto; }

/* 使い方メモ（簡潔）
   - el.classList.add('generated-text') して使用
   - 折返しを許可するには .multi-line を追加
   - 行位置は .line-1 〜 .line-5 で指定
   - 色/アウトラインは .prologue-style-N を用いるか CSS 変数を書き換えてください
*/
